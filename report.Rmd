---
title: "Report"
author: "Elizabeth Serrano"
date: "2022-11-26"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse) #contains multiple tidy packages 
library(dplyr) #used for data manipulation 
```

```{r - Cleaning up the Raw Data}
FishFraud <- read.csv("Fish Fraud Data CSV.csv") #loaded the csv file of the raw data into r 


TidyFishFraud <- select(FishFraud, -Fraud.map.category, -Notes, -repeat., -Species.Geographic.Range, -Amount.of.processing, -Website, -Reference, -In.fraud.map., -In.endnote., -Fraud.Map.ID., -Potentially.Farmed., -farmed.n, -X, -X.1, -X.2, -X.3, -X.4, -X.5, -X.6, -X.7, -X.8) #i removed these columns as i determined that they were either irrelevant to what I wanted to asnwer, or there wasnt enough data in these columns to do anything with it 

TidyFishFraud <- filter(
  TidyFishFraud, 
  !is.na(Study.number)
) #here I am removing all the rows that contain an NA under the study.number column. 

glimpse(TidyFishFraud)


```
```{r what places where the fish mostly retrieved from?}
#I want to know where most of the fish was sampled from. So I am going to need to create a data frame that takes the studies columns and the locations of the purchased fish 
FraudLocation <-select(TidyFishFraud, Study.number, Study.authors...year, Sampling.Area..where.retail.fish.purchased.)
#This is data frame showing all the studies and all the places the fish from those studies were bought from (location) 
# Since most of this sea food was sampled within the US, I am going to try to standardize these entries to show the locations (states within the US) where the seafood came from. 

#Purchased within US but exact state is undetermined. 
FraudLocation$Sampling.Area..where.retail.fish.purchased.[FraudLocation$Sampling.Area..where.retail.fish.purchased.== "USA"] <- "USA (state undetermined)"

FraudLocation$Sampling.Area..where.retail.fish.purchased.[FraudLocation$Sampling.Area..where.retail.fish.purchased.== "US"] <- "USA (state undetermined)"

FraudLocation$Sampling.Area..where.retail.fish.purchased.[FraudLocation$Sampling.Area..where.retail.fish.purchased.== "21 states"] <- "USA (state undetermined)"

FraudLocation$Sampling.Area..where.retail.fish.purchased.[FraudLocation$Sampling.Area..where.retail.fish.purchased.== "United States"] <- "USA (state undetermined)"

FraudLocation$Sampling.Area..where.retail.fish.purchased.[FraudLocation$Sampling.Area..where.retail.fish.purchased.== "medium size city in SE US"] <- "USA (state undetermined)"

#There are some samples that dont have any location mentioned. These are empty strings and I will replace them with NA. 
FraudLocation[FraudLocation == ''] <- NA

#Replace the NA's with an Undetermined Location 
FraudLocation[is.na(FraudLocation)] <- "Undetermined"

#Here I will replace the locations to show the state where the samples were retrieved from 

#New York
FraudLocation[FraudLocation == "NY"] <- "New York"
FraudLocation[FraudLocation == "New York City "] <- "New York"
FraudLocation[FraudLocation == "New York City"] <- "New York"
FraudLocation[FraudLocation == "New Bedford, MA (company)"] <- "New York"
FraudLocation[FraudLocation == "NYC"] <- "New York"
FraudLocation[FraudLocation == "New York, New York"] <- "New York"

#Massachusetts
FraudLocation[FraudLocation == "Boston, MA"] <- "Massachusetts"
FraudLocation[FraudLocation == "MA (company)"] <- "Massachusetts"
FraudLocation[FraudLocation == "MA (company)"] <- "Massachusetts"

#Washington 
FraudLocation[FraudLocation == "W.Washington State"] <- "Washington"
FraudLocation[FraudLocation == "Seattle, WA"] <- "Washington"
FraudLocation[FraudLocation == "Bellingham, WA"] <- "Washington"
FraudLocation[FraudLocation == "Washington, DC "] <- "Washington"
FraudLocation[FraudLocation == "Washington, DC"] <- "Washington"

#California
FraudLocation[FraudLocation == "Los Angeles"] <- "California"
FraudLocation[FraudLocation == "Los Angeles, CA, USA"] <- "California"
FraudLocation[FraudLocation == "California, Los Angeles"] <- "California"
FraudLocation[FraudLocation == "California, San Francisco"] <- "California"
FraudLocation[FraudLocation == "California, Oakland"] <- "California"
FraudLocation[FraudLocation == "California, San Jose"] <- "California"
FraudLocation[FraudLocation == "California, Sausalito"] <- "California"
FraudLocation[FraudLocation == "California, San Rafael"] <- "California"
FraudLocation[FraudLocation == "California, Walnut Creek"] <- "California"
FraudLocation[FraudLocation == "California, Orange County"] <- "California"
FraudLocation[FraudLocation == "Santa Cruz, CA"] <- "California"
FraudLocation[FraudLocation == "San Diego"] <- "California"
FraudLocation[FraudLocation == "Santa Monica, CA (company), CA (purchaser)"] <- "California"
FraudLocation[FraudLocation == "San Francisco, CA"] <- "California"
FraudLocation[FraudLocation == "Sentencing in Los Angeles California"] <- "California"

#Florida 
FraudLocation[FraudLocation == "Florida - Jacksonville area"] <- "Florida"
FraudLocation[FraudLocation == "Tampa, FL"] <- "Florida"
FraudLocation[FraudLocation == "Tampa, St. Petersburg, FL"] <- "Florida"
FraudLocation[FraudLocation == "Panama City, FL"] <- "Florida"
FraudLocation[FraudLocation == "Hialeah, FL"] <- "Florida"
FraudLocation[FraudLocation == "Volusia county, FL"] <- "Florida"
FraudLocation[FraudLocation == "Fort Myers, Florida"] <- "Florida"
FraudLocation[FraudLocation == "Tallahassee, Florida"] <- "Florida"
FraudLocation[FraudLocation == "Tampa Bay, Florida"] <- "Florida"
FraudLocation[FraudLocation == "North Miami Beach, FL"] <- "Florida"
FraudLocation[FraudLocation == "Miami, FL (company)"] <- "Florida"
FraudLocation[FraudLocation == "Tampa, FL (company)"] <- "Florida"
FraudLocation[FraudLocation == "FL (company)"] <- "Florida"
FraudLocation[FraudLocation == "Hialeah, FL (company)"] <- "Florida"
FraudLocation[FraudLocation == "FL (purchaser)"] <- "Florida"

#Missouri 
FraudLocation[FraudLocation == "St. Louis, MO"] <- "Missouri"
FraudLocation[FraudLocation == "Kansas City, MO"] <- "Missouri"

#Georgia
FraudLocation[FraudLocation == "Atlanta, GA"] <- "Georgia"
FraudLocation[FraudLocation == "GA (company)"] <- "Georgia"
FraudLocation[FraudLocation == "Savannah, GA"] <- "Georgia"

#Maryland 
FraudLocation[FraudLocation == "Baltimore, MD"] <- "Maryland"

#Arizona 
FraudLocation[FraudLocation == "Phoenix,AZ"] <- "Arizona"

#Illinois 
FraudLocation[FraudLocation == "Chicago, IL"] <- "Illinois"
FraudLocation[FraudLocation == "Addison, IL (company)"] <- "Illinois"
FraudLocation[FraudLocation == "Oak Park, IL"] <- "Illinois"
FraudLocation[FraudLocation == "Chicago and suburbs"] <- "Illinois"

#North Carolina 
FraudLocation[FraudLocation == "Gastonia, NC"] <- "North Carolina"

#Virginia 
FraudLocation[FraudLocation == "VA (company)"] <- "Virginia"



#Some values have in the Sample Area column mention 2+ states. I am going to repeat those rows by the number of states mentioned and replace the values with each state mentioned.

#Study 1
Study1Rep <-FraudLocation %>% slice(rep(1,2)) #Replicated 1st study twice
Study1Rep[1,3] <- "USA (state undetermined)"
Study1Rep[2,3] <- "Canada"  

#Study 3
Study3Rep <- FraudLocation %>% slice(rep(17,8)) #Replicated 3rd study 8 times
Study3Rep[1,3] <-"Delaware"
Study3Rep[2,3]<- "Florida"
Study3Rep[3,3]<- "Illinois"
Study3Rep[4,3]<- "Massachusetts"
Study3Rep[5,3]<- "New York"
Study3Rep[6,3]<- "North Carolina"
Study3Rep[7,3]<- "South Carolina"
Study3Rep[8,3]<- "Wisconsin"  #Each state is now represented in the 3rd study 

#Study 6
Study6Rep1<-FraudLocation %>% slice(rep(34,5))
Study6Rep2<- FraudLocation %>% slice(rep(35,5))


#Study 9
Study9Rep1<-FraudLocation %>% slice(rep(59,2))
Study9Rep2<-FraudLocation %>% slice(rep(60,2))
Study9Rep3<-FraudLocation %>% slice(rep(61,2))
Study9Rep4<-FraudLocation %>% slice(rep(62,2))
Study9Rep5<-FraudLocation %>% slice(rep(63,2))
Study9Rep6<-FraudLocation %>% slice(rep(64,2))

#Study 10
Study10Rep1<-FraudLocation %>% slice(rep(65,2))
Study10Rep2<-FraudLocation %>% slice(rep(66,2))
Study10Rep3<-FraudLocation %>% slice(rep(67,2))

#Study 12
Study12Rep1<-FraudLocation %>% slice(rep(79,2))
Study12Rep1<-FraudLocation %>% slice(rep(80,2))

#Study 17
Study17Rep1<- FraudLocation %>% slice(rep(166,10))
Study17Rep2<- FraudLocation %>% slice(rep(167,10))
Study17Rep3<- FraudLocation %>% slice(rep(168,10))
Study17Rep4<- FraudLocation %>% slice(rep(169,10))

#Study 18
Study18Rep1<- FraudLocation %>% slice(rep(170,3))
Study18Rep2<- FraudLocation %>% slice(rep(171,3))
Study18Rep3<- FraudLocation %>% slice(rep(172,3)) 
Study18Rep4<- FraudLocation %>% slice(rep(173,3))  
Study18Rep5<- FraudLocation %>% slice(rep(174,3))  
Study18Rep6<- FraudLocation %>% slice(rep(175,3))  
Study18Rep7<- FraudLocation %>% slice(rep(176,3))
Study18Rep8<- FraudLocation %>% slice(rep(177,3))  
Study18Rep9<- FraudLocation %>% slice(rep(178,3))  
Study18Rep10<- FraudLocation %>% slice(rep(179,3))
Study18Rep11<-  FraudLocation %>% slice(rep(180,3)) 
Study18Rep12<- FraudLocation %>% slice(rep(181,3))
Study18Rep13<- FraudLocation %>% slice(rep(182,3))  
Study18Rep14<- FraudLocation %>% slice(rep(183,3))  
  
#Study 63
Study63Rep1<- FraudLocation %>% slice(rep(234,4))
Study63Rep2<- FraudLocation %>% slice(rep(235,4))
Study63Rep3<- FraudLocation %>% slice(rep(236,4))
Study63Rep4<- FraudLocation %>% slice(rep(237,4))
Study63Rep5<- FraudLocation %>% slice(rep(238,4))

#Study 100

#Study 102

#Study 121

#Study 122

#Study 123

#Study 145

#Study 147

#Study 150

#Study 151

#Study 154

#Study 160


  
  
  
FraudLocation_full_fraud1st <- full_join(FraudLocation, Study1Rep, by= "Study.number")
FraudLocation_full_fraud1st<- select(FraudLocation_full_fraud1st, -Study.authors...year.y, -Sampling.Area..where.retail.fish.purchased..y)


```

